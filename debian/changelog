chd2iso-fuse (0.1.37-1) trixie; urgency=medium

  [ lloydsmart ]
  * chore(release): update CHANGELOG.md, debian/changelog, and Cargo.toml for v0.1.36
  * ci: upload explicit asset list to release and verify post-publish
    - Build concrete list of *.deb/*.buildinfo/*.changes/CHANGELOG.md in repo root
    - Pass newline-separated file list to softprops/action-gh-release
    - Verify the published release contains assets; fail fast if empty
    - Keep draft->upload->publish, idempotence checks, pinned toolchain, offline lock guard

  [ Lloyd Smart ]
  * chore(release): set Cargo version to 0.1.37 from tag
  * chore(release): sync Cargo.lock to version 0.1.37
  * Release 0.1.37

 -- Lloyd Smart <lloydsmart@users.noreply.github.com>  Tue, 02 Sep 2025 16:21:37 +0000

chd2iso-fuse (0.1.36-1) trixie; urgency=medium

  [ lloydsmart ]
  * chore(release): update CHANGELOG.md, debian/changelog, and Cargo.toml for v0.1.35
  * ci: normalize release notes path and upload assets reliably
    - Ensure RELEASE_NOTES.md exists at repo root (move/copy fallback)
    - Use recursive globs for .deb/.buildinfo/.changes uploads
    - Keep draft->upload->publish flow, concurrency, idempotence
    - Pin Rust 1.86.0; regenerate+commit Cargo.lock; offline lock guard

  [ Lloyd Smart ]
  * chore(release): set Cargo version to 0.1.36 from tag
  * chore(release): sync Cargo.lock to version 0.1.36
  * Release 0.1.36

 -- Lloyd Smart <lloydsmart@users.noreply.github.com>  Tue, 02 Sep 2025 16:02:12 +0000

chd2iso-fuse (0.1.35-1) trixie; urgency=medium

  [ lloydsmart ]
  * chore(release): update CHANGELOG.md, debian/changelog, and Cargo.toml for v0.1.34

  [ Lloyd Smart ]
  * chore(release): set Cargo version to 0.1.35 from tag
  * chore(release): sync Cargo.lock to version 0.1.35
  * Release 0.1.35

 -- Lloyd Smart <lloydsmart@users.noreply.github.com>  Tue, 02 Sep 2025 14:55:34 +0000

chd2iso-fuse (0.1.34-1) trixie; urgency=medium

  [ lloydsmart ]
  * chore(release): update CHANGELOG.md, debian/changelog, and Cargo.toml for v0.1.32
  * chore(release): update CHANGELOG.md, debian/changelog, and Cargo.toml for v0.1.33

  [ Lloyd Smart ]
  * chore(release): set Cargo version to 0.1.34 from tag
  * chore(release): sync Cargo.lock to version 0.1.34
  * Release 0.1.34

 -- Lloyd Smart <lloydsmart@users.noreply.github.com>  Tue, 02 Sep 2025 14:38:39 +0000

chd2iso-fuse (0.1.33-1) trixie; urgency=medium

  [ lloydsmart ]
  * ci: fix release uploads by scanning workspace and using recursive globs
    - Download artifacts to repo root and guard by searching **/*.deb etc.
    - Upload with ** globs so we attach regardless of folder structure
    - (kept) draft->upload->publish, idempotent checks, pinned toolchain, offline lockfile guard

  [ Lloyd Smart ]
  * chore(release): set Cargo version to 0.1.33 from tag
  * chore(release): sync Cargo.lock to version 0.1.33
  * Release 0.1.33

 -- Lloyd Smart <lloydsmart@users.noreply.github.com>  Tue, 02 Sep 2025 14:27:13 +0000

chd2iso-fuse (0.1.31-1) trixie; urgency=medium

  [ lloydsmart ]
  * chore(release): update CHANGELOG.md, debian/changelog, and Cargo.toml for v0.1.30
  * ci: add concurrency + idempotent release publish; keep pinned toolchain and offline lockfile guard
    - Global concurrency to cancel older runs on same ref
    - Release job checks for existing/published release and no-ops if present
    - Draft->upload->publish flow for immutable releases
    - Regenerate+commit Cargo.lock after tag bump
    - Pin Rust to 1.86.0; prefetch with --locked and validate offline

  [ Lloyd Smart ]
  * chore(release): set Cargo version to 0.1.31 from tag
  * chore(release): sync Cargo.lock to version 0.1.31
  * Release 0.1.31

 -- Lloyd Smart <lloydsmart@users.noreply.github.com>  Tue, 02 Sep 2025 10:51:48 +0000

chd2iso-fuse (0.1.30-1) trixie; urgency=medium

  [ lloydsmart ]
  * ci: fix workflow parsing and job condition
    - Use bracket notation in job-level condition: needs['build-debs'].result
    - Correct step indentation in publish-release job
    - Keep draft->publish flow for immutable releases
  * ci: fix YAML indentation in publish-release job (indent run: under step)
  * ci: fix YAML indentation in publish-release job (indent run: under step)

  [ Lloyd Smart ]
  * chore(release): set Cargo version to 0.1.30 from tag
  * chore(release): sync Cargo.lock to version 0.1.30
  * Release 0.1.30

 -- Lloyd Smart <lloydsmart@users.noreply.github.com>  Tue, 02 Sep 2025 10:34:27 +0000

chd2iso-fuse (0.1.28-1) trixie; urgency=medium

  [ lloydsmart ]
  * ci: commit regenerated Cargo.lock after tag version bump
    - After setting Cargo.toml version from tag, regenerate lockfile offline
      and commit it so subsequent `--locked` steps and the post-build guard pass
    - Keep deterministic lock guard (prefetch + `cargo metadata --locked --offline`)
    - Toolchain pinned to rustc 1.86.0 to avoid lock format drift

  [ Lloyd Smart ]
  * chore(release): set Cargo version to 0.1.28 from tag
  * chore(release): sync Cargo.lock to version 0.1.28
  * Release 0.1.28

 -- Lloyd Smart <lloydsmart@users.noreply.github.com>  Tue, 02 Sep 2025 09:54:11 +0000

chd2iso-fuse (0.1.23-1) trixie; urgency=medium

  [ lloydsmart ]
  * chore(release): update CHANGELOG.md and debian/changelog for v0.1.22
  * ci(release): build first, PR later — stop changelog from being clobbered mid-run
    - Move CHANGELOG copy + create-pull-request steps to end of build job (after artifacts)
    - Keep pre- and post-build version guards to enforce ${TAG#v}-1
    - Collect artifacts by parsed Debian version; POSIX-safe shell
    - Preserve sccache/caching, reproducible flags, and release publishing

  [ Lloyd Smart ]
  * Release 0.1.23

 -- Lloyd Smart <lloydsmart@users.noreply.github.com>  Fri, 29 Aug 2025 16:25:49 +0000

chd2iso-fuse (0.1.22-1) trixie; urgency=medium

  [ lloydsmart ]
  * chore(release): update CHANGELOG.md and debian/changelog for v0.1.20
  * ci(release): fix YAML and finalize post-build version guard
    - Quote guard step name (contains a colon) to satisfy YAML parser
    - Add missing `if:` and `run:` fields to the guard step
    - Ensure tag builds fail if artifacts for the expected Debian version (${TAG#v}-1) are absent
    - Keep parent-dir listing for easier debugging

  [ Lloyd Smart ]
  * Release 0.1.22

 -- Lloyd Smart <lloydsmart@users.noreply.github.com>  Fri, 29 Aug 2025 16:18:55 +0000

chd2iso-fuse (0.1.20-1) trixie; urgency=medium

  [ lloydsmart ]
  * ci: fix artifact collection on tag builds (POSIX sh)
    - Replace bash-only here-strings/pipefail with POSIX-safe logic
    - Use `find … -print0 | xargs -0` to move all *_<VER>_* files
    - Prevents `/bin/sh: Syntax error: redirection unexpected` in container

  [ Lloyd Smart ]
  * Release 0.1.20

 -- Lloyd Smart <lloydsmart@users.noreply.github.com>  Fri, 29 Aug 2025 16:02:39 +0000

chd2iso-fuse (0.1.18-1) trixie; urgency=medium

  [ lloydsmart ]
  * ci: collect release artifacts by debian version instead of hard-coded names
    - Use dpkg-parsechangelog to get Version and move all *_<VER>_* files
    - Handles arch/dbgsym/binNMU variations; prints parent dir on mismatch

  [ Lloyd Smart ]
  * Release 0.1.18

 -- Lloyd Smart <lloydsmart@users.noreply.github.com>  Fri, 29 Aug 2025 15:36:31 +0000

chd2iso-fuse (0.1.16-1) trixie; urgency=medium

  [ lloydsmart ]
  * chore(release): update CHANGELOG.md and debian/changelog for v0.1.15
  * ci/debian: force changelog version from tag and guard before build
    - gen-debian-changelog.sh: use `dch --newversion ${TAG#v}-1` and close entry
    - Add CI step to verify dpkg-parsechangelog matches the tag-derived version
    - Print top of debian/changelog and built filenames for sanity
    - Fixes release assets being one version behind the tag

  [ Lloyd Smart ]
  * Release 0.1.16

 -- Lloyd Smart <lloydsmart@users.noreply.github.com>  Fri, 29 Aug 2025 15:13:04 +0000

chd2iso-fuse (0.1.15-1) trixie; urgency=medium

  [ lloydsmart ]
  * chore(release): update CHANGELOG.md and debian/changelog for v0.1.14
  * ci/debian: derive debian/changelog version from tag; guard against mismatches
    - Update gen-debian-changelog.sh to set version ${TAG#v}-1 and close entry
    - Use gbp dch for changes, then dch -v to pin version and distro
    - Add CI step to verify dpkg-parsechangelog matches the tag-derived version
    - Ensures release assets filenames match the tag (e.g., v0.1.14 -> 0.1.14-1)

  [ Lloyd Smart ]
  * Release 0.1.15

 -- Lloyd Smart <lloydsmart@users.noreply.github.com>  Fri, 29 Aug 2025 14:38:05 +0000

chd2iso-fuse (0.1.14-1) trixie; urgency=medium

  [ lloydsmart ]
  * docs(changelog): update for v0.1.13
  * ci: include debian/changelog in release PR
    - Add debian/changelog to create-pull-request add-paths
    - Preview generated debian/changelog in logs for sanity
    - Ensures gbp dch output is committed back to main on tag builds

 -- Lloyd Smart <lloydsmart@users.noreply.github.com>  Fri, 29 Aug 2025 13:45:09 +0000

chd2iso-fuse (0.1.6) trixie; urgency=medium

  * Integrate automated changelog generation:
    - Added scripts/gen-debian-changelog.sh using gbp dch
    - Added scripts/gen-release-notes.sh using git-cliff
    - Updated CI workflow to call these scripts on tag builds
    - Installed git-cliff and git-buildpackage in CI container
    - Included generated CHANGELOG.md in release artifacts
    - Added tailored cliff.toml config with PR title capture

 -- Lloyd Smart <lloydsmart@users.noreply.github.com>  Fri, 29 Aug 2025 10:30:00 +0100

chd2iso-fuse (0.1.0-2) bookworm; urgency=medium

  * Debian packaging polish:
    - Add proper control metadata (Standards-Version, Vcs fields).
    - Provide minimal manpage and install it via dh_installman.
    - Keep systemd .mount/.automount units and mount helpers packaged.
    - Build via dh-cargo; tests disabled for now.

 -- Lloyd Smart <lloyd@lloydsmart.com>  Fri, 15 Aug 2025 09:45:00 +0100

chd2iso-fuse (0.1.0-1) unstable; urgency=medium

  * Initial release.

 -- Lloyd Smart <lloyd@lloydsmart.com>  Thu, 14 Aug 2025 12:00:00 +0000

